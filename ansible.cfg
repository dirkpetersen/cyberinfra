# Ansible Configuration for Cyber Infrastructure Management
# This configuration is for managing on-premises infrastructure (Proxmox, Weka, Ceph, NVIDIA)
# using SSH transport and AWS SSM Parameter Store for configuration data.

[defaults]
# Inventory
inventory = ./inventory
enable_plugins = script, ini, yaml

# SSH Connection Settings
host_key_checking = False
transport = ssh
remote_user = root

# Ansible Behavior
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts
fact_caching_timeout = 86400
retry_files_enabled = False

# Output
stdout_callback = yaml
display_args_to_stdout = False
display_skipped_hosts = False

# Python Interpreter Discovery
interpreter_python = auto_silent

# Logging
log_path = ./ansible.log

# Performance
forks = 10
timeout = 30
pipelining = True

# Privilege Escalation
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[inventory]
enable_plugins = script, ini, yaml

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
# SSH multiplexing for better performance
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no
pipelining = True
control_path = /tmp/ansible-ssh-%%h-%%p-%%r

# Connection timeout
timeout = 30
